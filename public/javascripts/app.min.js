angular.module("app",["app.tpl","ngSanitize","ngCookies","ui.select","ui.bootstrap","ngRoute","main","other","pattern"]).constant("API_URL","/api/v1/").config(["$httpProvider","$locationProvider",function(e,t){e.defaults.headers.common={"X-Requested-With":"XMLHttpRequest"},t.html5Mode({enabled:!0,requireBase:!1})}]).run(["$http","$cookieStore","$log","$window",function(e,t,n,r){e.post("/api/v1/access_token",{grant_type:"client_credentials",client_id:r.Conf.clientId}).then(function(e){t.put("access_token",e.data.access_token)},function(e){n.error(e)})}]).run(["$injector","$cookieStore",function(e,t){e.get("$http").defaults.transformRequest=function(e,n){var r=t.get("access_token");r&&(n().Authorization="Bearer "+r)}}]),angular.module("main.controllers",[]).controller("IndexCtrl",["$scope","$location","DrugService","API_URL",function(e,t,n,r){e.endpoint=r+"drugs",e.selectedDrug=void 0,n.getTypeaheadDrugs().then(function(t){e.drugs=t}),e.$watch("selectedDrug",function(){e.selectedDrug&&t.path("/drugdetail").search("name",e.selectedDrug)})}]).controller("DrugDetailsCtrl",["$scope","$location","DrugService",function(e,t,n){e.drug=t.search().name,n.getDrugByName(e.drug).then(function(t){e.drugDetails=t})}]),angular.module("main.filters",[]).filter("encodeURIComponent",function(){return window.encodeURIComponent}),angular.module("main",["main.controllers","main.routes","main.services","main.filters"]),angular.module("main.routes",[]).config(["$routeProvider",function(e){e.when("/",{templateUrl:"assets/main/partials/main-index.html",controller:"IndexCtrl"}).when("/drugdetail",{templateUrl:"assets/main/partials/drug-detail.html",controller:"DrugDetailsCtrl"})}]),function(){angular.module("main.services",[]).factory("DrugService",["API_URL","$http","$q","$log",function(e,t,n,r){return{getTypeaheadDrugs:function(){var e=n.defer();return t({url:"/assets/datasets/meds.json"}).success(function(t){e.resolve(t)}).error(function(){e.reject("Problem retrieving drug names for typeahead")}),e.promise},getDrugs:function(r){var o=n.defer(),i={method:"GET",url:e};return r&&(i.params.query=r),t(i).success(function(e){o.resolve(e)}).error(function(e){o.reject("Problem retrieving medicines: "+e)}),o.promise},getDrugByName:function(n){return t.get(e+"drugs/"+n).then(function(e){return e.data},function(e){r.error(e)})}}}])}(),angular.module("other.controllers",[]).controller("OtherCtrl",["$scope",function(e){console.log("Hello other controller!")}]),angular.module("other",["other.controllers","other.routes"]),angular.module("other.routes",[]).config(["$routeProvider",function(e){e.when("/other",{templateUrl:"assets/other/partials/main.html",controller:"OtherCtrl"})}]),angular.module("pattern.controllers",[]).controller("PatternCtrl",["$scope",function(e){e.options=[{indy:"Aerospace"},{indy:"Banking"},{indy:"Commercial Contracts"},{indy:"Construction"},{indy:"Employment"},{indy:"Energy"},{indy:"Entertainment"},{indy:"Finance"},{indy:"Franchise Agreements"},{indy:"Healthcare"},{indy:"Hospitality"},{indy:"Insurance / Reinsurance"},{indy:"Intellectual Property"},{indy:"Licensing Agreements"},{indy:"Mass Claims / Class Actions"},{indy:"Mergers & Acquisitions"},{indy:"Oil & Gas"},{indy:"Partnerships"},{indy:"Pharmaceuticals"},{indy:"Securities Investments"},{indy:"Technology"},{indy:"Telecommunications"}]}]),angular.module("pattern",["pattern.controllers","pattern.routes"]),angular.module("pattern.routes",[]).config(["$routeProvider",function(e){e.when("/pattern",{templateUrl:"assets/pattern/partials/main.html",controller:"PatternCtrl"})}]);